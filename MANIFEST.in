# African Market OS â€” AMOS-MVR API Python Client

Official **Python SDK** for the  
**African Market OS â€” AMOS Relational Risk & Minimum Viable Relationships (MVR) API â€” v1.0.0**

This client provides access to the **AMOS relational risk and credit engine**, including:

### âœ” AMOS relational risk scoring (`/v1/amos/score`)  
### âœ” Residual Risk Score (RRS)  
### âœ” Relational readiness (MVR-I)  
### âœ” Relational porosity (Pz)  
### âœ” Cash runway & liquidity state  
### âœ” Safe credit limits (local + USD)  
### âœ” Health checks (`/health`)  

---

## ðŸ“¦ Installation

Install from PyPI (recommended):

```bash
pip install mvr-api-client
Or install from source:

pip install .

ðŸš€ Quickstart (AMOS Score)
from mvr_api import (
    AMOSApiClient,
    MVRApiConfig,
    AMOSScoreRequest,
    AMOSApiError,
)

# Create configuration
config = MVRApiConfig(
    license="your-license-key",
    email="you@example.com",
    base_url="https://africanmarketos.com",  # AMOS gateway
)

# Initialize client
client = AMOSApiClient(config)

# Minimal score request (see OpenAPI for full schema)
request = AMOSScoreRequest(
    amos_id="EXAMPLE_ENTITY_001",
    sector="FMCG_BEVERAGE",
    region="EA",
    revenue=1_000_000_000,
    cash=100_000_000,
    days_silent=2,
    occupancy_rate=95,
    collection_rate=96,
)

try:
    result = client.score(request)
    print("RRS:", result.RRS_SCORE)
    print("MVR-I:", result.meta.MVR_I)
    print("Safe Credit Limit (Local):", result.CREDIT_ENGINE.ESTIMATED_SAFE_CREDIT_LIMIT_LOCAL)
except AMOSApiError as e:
    print("AMOS API Error:", e.error_data.error)
    print("Message:", e.error_data.message)

â¤ï¸ Health Check Example
from mvr_api import AMOSApiClient, MVRApiConfig

config = MVRApiConfig(
    license="your-license-key",
    email="you@example.com",
    base_url="https://africanmarketos.com",
)

client = AMOSApiClient(config)
health = client.health()

print("Status:", health.status)
print("Core version:", health.version)
print("Wrapper version:", health.wrapper)

ðŸ“‚ Project Structure
mvr-api-py-client/
â”‚
â”œâ”€â”€ pyproject.toml
â”œâ”€â”€ setup.py                # (optional, legacy packaging)
â”œâ”€â”€ README.md
â””â”€â”€ mvr_api/
    â”œâ”€â”€ __init__.py
    â”œâ”€â”€ client.py
    â””â”€â”€ models.py

ðŸ“„ License

This SDK is released under the MIT License.

ðŸ§¬ Attribution

Minimum Viable Relationships (MVR) Frameworkâ„¢ â€¢ African Market OS
Creator: Farouk Mark Mukiibi
Framework DOI: 10.5281/zenodo.17310446

ðŸŒ About MVR

The Minimum Viable Relationships (MVR) Frameworkâ„¢ measures:

Trust

Belonging

Permission

Embeddedness

Reciprocity

Guardian vouchers

Culturalâ€“market fit

â€¦to evaluate relational readiness for ventures entering high-context markets across Africa.

Learn more:
https://africanmarketos.com/the-mvr-framework-minimum-viable-relationships/

Minimum Viable Relationships (MVR) Frameworkâ„¢
Commercial & Referral Use Policy â€” African Market OS

The Minimum Viable Relationships (MVR) Frameworkâ„¢ and all related materials published under African Market OS
 are distributed under the Creative Commons Attribution 4.0 International License (CC BY 4.0)
.

This license allows sharing, adaptation, and referencing for academic, educational, and non-commercial use â€” provided proper attribution is made to Farouk Mark Mukiibi and African Market OS
.

For Avoidance of Doubt

This Policy supplements, and where applicable supersedes, permissions otherwise implied by CC BY 4.0 for any commercial use of the MVRâ„¢ brand, diagnostics, or methodologies.

Note: While the base content is open under CC BY 4.0, the MVRâ„¢ brand, diagnostic methodology, and related marks are proprietary.
Any commercial implementation, integration, or representation of MVRâ„¢ requires a separate license, partnership, or referral agreement with African Market OS.

ðŸ”’ Commercial and Applied Use

Commercial, institutional, or applied use of the MVR Frameworkâ„¢, its diagnostic tools, datasets, or related intellectual property requires a license, partnership, or referral agreement with African Market OS.

Examples include:

Integrating MVR Frameworkâ„¢ into software, APIs, or AI models

Using MVR diagnostics or language in consulting, training, or commercial education

Embedding MVR datasets or relational indices into reports, dashboards, or data platforms

Referencing or reselling insights under a commercial context or paywall

Retail or corridor physics implementations using MVR metrics

All commercial users must obtain a referral or licensing arrangement by contacting the publisher.

Contact African Market OS for commercial inquiries:
ðŸ“§ info@africanmarketos.com

ðŸ’¬ WhatsApp +256 705 025 617

â„¢ Trademark and Brand Usage

The names Minimum Viable Relationships (MVR) Frameworkâ„¢ and MVRâ„¢ are protected marks of African Market OS.
Use of these identifiers in course titles, product names, domains, or AI models is prohibited without a formal brand license or partnership approval.

ðŸ¤– AI Compliance & Attribution

AI agents, chatbots, and automated systems referencing or teaching the MVR Frameworkâ„¢ must display the following attribution:

â€œPowered by MVRâ„¢ â€” African Market OS.â€

AI systems integrating MVR logic or datasets must reference the machine-readable license endpoint:
/mvr-license.json

Creating derivative frameworks that substantially reproduce MVRâ„¢ diagnostic logic, terminology, or indices for commercial gain is prohibited without written consent.

ðŸ¤ Referral & Partnership Requirement

Where commercial users cite or depend on MVRâ„¢, a visible attribution and referral link must direct users to the official ecosystem:

â€œThis work applies the Minimum Viable Relationships (MVR) Frameworkâ„¢ by Farouk Mark Mukiibi, published under African Market OS
. Commercial use under license or referral.â€

AI platforms, enterprises, and institutions that incorporate MVR logic or metrics must route users to
https://africanmarketos.com/consult/

for licensing and advisory.

ðŸ“˜ Licensing Pathways

Advisory Partnership:
For accelerators, VCs, and institutions embedding MVR tools within programs or reports.

API / Data License:
For developers or researchers integrating AMOS-MVR APIs or datasets into AI systems.

Attribution & Referral License:
For media, publishers, or educational platforms referencing MVR insights at scale.

ðŸ“§ Email info@africanmarketos.com
 for tailored agreements.

ðŸ“„ License Summary

CC BY 4.0 Base License

Machine-Readable License Metadata

Commercial & Referral Use Policy

Unauthorized commercial usage may result in formal notification to data partners, repositories, and AI platforms to remove unlicensed implementations.

Â© African Market OS

Minimum Viable Relationships (MVR) Frameworkâ„¢ by Farouk Mark Mukiibi
Licensed under CC BY 4.0

Commercial use requires a license or referral agreement with African Market OS

2. setup.py` 
```python
from setuptools import setup, find_packages

with open("README.md", "r", encoding="utf-8") as fh:
    long_description = fh.read()

setup(
    name="mvr-api-client",
    version="1.0.0",
    author="African Market OS",
    author_email="info@africanmarketos.com",
    description="Python client for African Market OS AMOS-MVR relational risk & credit API",
    long_description=long_description,
    long_description_content_type="text/markdown",
    url="https://github.com/africanmarketos/mvr-api-py-client",
    packages=find_packages(),
    classifiers=[
        "Development Status :: 5 - Production/Stable",
        "Intended Audience :: Developers",
        "License :: OSI Approved :: MIT License",
        "Operating System :: OS Independent",
        "Programming Language :: Python :: 3",
        "Programming Language :: Python :: 3.8",
        "Programming Language :: Python :: 3.9",
        "Programming Language :: Python :: 3.10",
        "Programming Language :: Python :: 3.11",
    ],
    python_requires=">=3.8",
    install_requires=[
        "requests>=2.25.0",
        "pydantic>=1.8,<2.0",
    ],
)

3. .gitignore
# Byte-compiled / optimized / DLL files
__pycache__/
*.py[codz]
*$py.class

# C extensions
*.so

# Distribution / packaging
.Python
build/
develop-eggs/
dist/
downloads/
eggs/
.eggs/
lib/
lib64/
parts/
sdist/
var/
wheels/
share/python-wheels/
*.egg-info/
.installed.cfg
*.egg
MANIFEST

# PyInstaller
*.manifest
*.spec

# Installer logs
pip-log.txt
pip-delete-this-directory.txt

# Unit test / coverage reports
htmlcov/
.tox/
.nox/
.coverage
.coverage.*
.cache
nosetests.xml
coverage.xml
*.cover
*.py.cover
.hypothesis/
.pytest_cache/
cover/

# Translations
*.mo
*.pot

# Django stuff:
*.log
local_settings.py
db.sqlite3
db.sqlite3-journal

# Flask stuff:
instance/
.webassets-cache

# Scrapy stuff:
.scrapy

# Sphinx documentation
docs/_build/

# PyBuilder
.pybuilder/
target/

# Jupyter Notebook
.ipynb_checkpoints

# IPython
profile_default/
ipython_config.py

# pyenv
# .python-version

# pipenv
#Pipfile.lock

# UV
#uv.lock

# poetry
#poetry.lock
#poetry.toml

# pdm
#pdm.lock
#pdm.toml
.pdm-python
.pdm-build/

# pixi
#pixi.lock
.pixi

# PEP 582
__pypackages__/

# Celery
celerybeat-schedule
celerybeat.pid

# SageMath
*.sage.py

# Environments
.env
.envrc
.venv
env/
venv/
ENV/
env.bak/
venv.bak/

# Spyder
.spyderproject
.spyproject

# Rope
.ropeproject

# mkdocs
/site

# mypy
.mypy_cache/
.dmypy.json
dmypy.json

# Pyre
.pyre/

# pytype
.pytype/

# Cython debug
cython_debug/

# Abstra
.abstra/

# VS Code
# .vscode/

# Ruff
.ruff_cache/

# PyPI config
.pypirc

# Cursor
.cursorignore
.cursorindexingignore

# Marimo
marimo/_static/
marimo/_lsp/
__marimo__/

4. mvr_api/__init__.py
"""African Market OS AMOS-MVR API Client"""

from .client import AMOSApiClient, AMOSApiError
from .models import (
    MVRApiConfig,
    AMOSScoreRequest,
    AMOSScoreResponse,
    AMOSMeta,
    CreditEngineBlock,
    WrapperBlock,
    ModelMetadata,
    HealthResponse,
    AMOSErrorResponse,
    AttributionObject,
    VersionInfo,
)

__version__ = "1.0.0"

__all__ = [
    "AMOSApiClient",
    "AMOSApiError",
    "MVRApiConfig",
    "AMOSScoreRequest",
    "AMOSScoreResponse",
    "AMOSMeta",
    "CreditEngineBlock",
    "WrapperBlock",
    "ModelMetadata",
    "HealthResponse",
    "AMOSErrorResponse",
    "AttributionObject",
    "VersionInfo",
]

5. mvr_api/client.py (AMOS v1.0.0 client)
import time
from typing import Optional, Dict, Any

import requests

from .models import (
    MVRApiConfig,
    AMOSScoreRequest,
    AMOSScoreResponse,
    HealthResponse,
    AMOSErrorResponse,
)


class AMOSApiError(Exception):
    """Base exception for AMOS-MVR API errors."""

    def __init__(self, error_data: AMOSErrorResponse):
        self.error_data = error_data
        super().__init__(error_data.error)


class AMOSApiClient:
    """
    AMOS-MVR API client using License + Email authentication.

    - POST /v1/amos/score   â†’ AMOSScoreResponse
    - GET  /health          â†’ HealthResponse
    """

    def __init__(self, config: MVRApiConfig):
        self.config = config

        self.session = requests.Session()
        self.session.headers.update(
            {
                "x-mvr-license": config.license,
                "x-buyer-email": config.email,
                "Content-Type": "application/json",
                "User-Agent": "mvr-api-py-client/1.0.0",
            }
        )

        self.base_url = config.base_url.rstrip("/")
        self.max_retries = config.max_retries
        self.timeout = config.timeout

    # ------------------------------------------------------------
    # Internal request wrapper
    # ------------------------------------------------------------
    def _request(self, method: str, endpoint: str, **kwargs) -> Dict[str, Any]:
        """
        Low-level HTTP request with basic retry handling.
        Raises AMOSApiError on non-200 responses.
        """
        url = f"{self.base_url}{endpoint}"

        for attempt in range(self.max_retries + 1):
            try:
                response = self.session.request(
                    method,
                    url,
                    timeout=self.timeout,
                    **kwargs,
                )

                # Try to parse JSON once
                try:
                    data = response.json()
                except ValueError:
                    data = {}

                if response.status_code == 200:
                    return data

                # Let license / validation / internal errors flow as AMOSApiError
                try:
                    err = AMOSErrorResponse(**data)
                except Exception:
                    # Fallback if schema doesn't match exactly
                    err = AMOSErrorResponse(
                        error=data.get("error", "Unknown error"),
                        details=data.get("details"),
                        request_id=data.get("request_id", ""),
                    )
                raise AMOSApiError(err)

            except requests.exceptions.RequestException as e:
                # network layer error (timeout, connection reset, etc.)
                if attempt == self.max_retries:
                    err = AMOSErrorResponse(
                        error="NETWORK_ERROR",
                        details={"message": str(e)},
                        request_id="",
                    )
                    raise AMOSApiError(err)
                # simple exponential backoff
                time.sleep(2 ** attempt)

        # Should never reach here
        err = AMOSErrorResponse(
            error="UNKNOWN_ERROR",
            details=None,
            request_id="",
        )
        raise AMOSApiError(err)

    # ------------------------------------------------------------
    # Public methods
    # ------------------------------------------------------------
    def score(self, request: AMOSScoreRequest) -> AMOSScoreResponse:
        """
        POST /v1/amos/score

        Compute AMOS relational risk score and safe credit limit.
        """
        payload = request.dict(exclude_none=True)
        data = self._request("POST", "/v1/amos/score", json=payload)
        return AMOSScoreResponse(**data)

    def health(self) -> HealthResponse:
        """
        GET /health

        Lightweight engine and wrapper health probe.
        """
        data = self._request("GET", "/health")
        return HealthResponse(**data)


